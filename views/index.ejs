<%- include('partials/header') %>
<body>
    <header class="d-flex justify-content-left py-3 navbar"> 
        <ul class="nav"> 
            <li class="nav-item me-3"><a href="/" class="nav-link active nav-item-det" aria-current="page">Home</a></li> 
            <li class="nav-item me-3"><a href="/view-post" class="nav-link nav-item-det">View A Post</a></li> 
        </ul>
     </header>

    <% if (typeof success !== 'undefined' && success) { %>
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            âœ… Blog submitted successfully!
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    <% } %>

      <!-- Display error message if file upload fails -->
      <% if (error) { %>
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
          <strong>Error:</strong> <%= error %>
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      <% } %>
    
    <h1 class="text-center mt-5">Write a Post</h1>
    <div class="container">
        <form id="blogForm" action="/submit" method="POST" class="mt-4" enctype="multipart/form-data">
            <div class="mb-3">
                <label for="writerName" class="form-label">Your writer name</label>
                <input type="text" class="form-control" id="writerName" name="writerName" required placeholder="Your writer name">
            </div>
            <div class="mb-3">
                <label for="title" class="form-label">Blog Title</label>
                <input type="text" class="form-control" id="title" name="title" required placeholder="My Blog Title">
            </div>
            <div class="mb-3">
                <label for="content" class="form-label">Content</label>
                <textarea class="form-control" id="content" rows="5" name="content" required placeholder="Write your text here"></textarea>
                <small id="wordCountMessage" class="form-text text-muted">Word limit: 200 words</small>
                <div id="wordLimitMessage" class="text-danger" style="display:none;">You have reached the word limit!</div>
            </div>
            <div class="mb-3">
                <label for="image" class="form-label">Upload Image</label>
                <input class="form-control" type="file" id="image" name="image" accept="image/*" required>
            </div>
            <button type="submit">Submit</button>
        </form>
    </div>

    
    <!-- Bootstrap JS must be loaded -->
  

<%- include('partials/footer') %>